@inherits LayoutComponentBase
@using Gizmo.Client.UI.Components

@using Microsoft.Extensions.Options

@inject IOptions<ClientUIOptions> ClientUIOptions
@inject IJSRuntime JsRuntime

@if (!string.IsNullOrEmpty(ClientUIOptions.Value.Skin))
{
    <HeadContent>
        <link href="css/@ClientUIOptions.Value.Skin" rel="stylesheet" />
    </HeadContent>
}

<main @onclick="OnMainClick">
    <div class="giz-background">
        <img src="_content/Gizmo.Client.UI/img/background.jpg" />
    </div>
    <div class="giz-container" client-theme="true">
        <div class="giz-app__header">
            <Header />
        </div>
        <div class="giz-app__body">
            @Body
        </div>
    </div>
</main>

<NotificationsContainer />

@code
{
    private async Task OnMainClick(MouseEventArgs e)
    {
        await JsRuntime.InvokeVoidAsync("closeOpenPopups", e);
    }
}