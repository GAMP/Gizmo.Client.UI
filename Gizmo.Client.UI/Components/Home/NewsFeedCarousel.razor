@namespace Gizmo.Client.UI.Components
@inherits CustomDOMComponentBase
@using Gizmo.Web.Components
@using Gizmo.Client.UI.Components
@using Gizmo.Client.UI.ViewModels

<GizNavigation Title="Daily News" OnClickPreviousButton="@OnClickPreviousButtonHandler" OnClickNextButton="@OnClickNextButtonHandler" />

<div class="giz-news-feed-carousel">
    @if (NewsFeeds != null)
    {
        <NewsFeedCarouselIndicator Size="NewsFeeds.Count" SelectedIndex="@_currentPage" SelectedIndexChanged="SelectedIndexChangedHandler" />
    }
</div>

<Carousel SelectedIndex="@_currentPage">
    @if (NewsFeeds != null)
    {
        @foreach (var item in NewsFeeds)
        {
            <CarouselItem>
                @if (item.Type == Enumerations.NewsFeedType.Media)
                {
                    var mediaFeed = (MediaFeedViewModel)item;
                    <MediaFeedItemCard MediaFeed="@mediaFeed" />
                }
                else
                {
                    var rssFeed = (RssFeedViewModel)item;
                    @foreach (var rssFeedItem in rssFeed.Items)
                    {
                        <RssFeedItemCard RssFeedItem="@rssFeedItem" />
                    }
                }
            </CarouselItem>
        }
    }
</Carousel>