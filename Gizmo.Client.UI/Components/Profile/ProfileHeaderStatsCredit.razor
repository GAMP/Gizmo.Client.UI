@namespace Gizmo.Client.UI.Components
@inherits CustomDOMComponentBase
@using System.Globalization

@if (CreditOptionsViewState.SalesCreditType != CreditType.NoCredit || (CreditOptionsViewState.TimeCreditType != CreditType.NoCredit && CreditOptionsViewState.IsUserTimeCreditEnabled))
{
    <div class="giz-profile-header__info__stats-credit-item">

        <div class="giz-profile-header__info__stats-credit-item__header">
            <div>@LocalizationService.GetString("GIZ_USER_PROFILE_HEADER_CREDIT")</div>
            <div class="giz-profile-header__info__stats-credit-item__header__icon" @onclick="OnClickCreditInfoHandler" @onclick:stopPropagation="true">
                <Icon SVGIcon="Icons.Info2_Client" Size="IconSizes.Small" />
                <ProfileHeaderStatsCreditTooltip @bind-IsOpen="_isOpen" />
            </div>
        </div>

        <div class="giz-profile-header__info__stats-credit-item__body">

            @if (CreditOptionsViewState.TimeCreditType != CreditType.NoCredit && CreditOptionsViewState.IsUserTimeCreditEnabled)
            {
                <div class="giz-profile-header__info__stats-credit-item__body__icon">
                    <Icon SVGIcon="Icons.TimeSession2_Client" />
                </div>

                @if (CreditOptionsViewState.TimeCreditType == CreditType.Unlimited)
                {
                    <div class="giz-profile-header__info__stats-credit-item__body__infinite">
                        <Icon SVGIcon="Icons.Infinite" Color="#FFC700" />
                    </div>
                }
                else
                {
                    @if (CreditOptionsViewState.SalesCreditType != CreditType.Limited)
                    {
                        <div>@(CreditOptionsViewState.CreditLimit.ToString("C", CultureInfo.CurrentCulture))</div>
                    }
                }
            }

            @if (CreditOptionsViewState.SalesCreditType != CreditType.NoCredit)
            {
                <div class="giz-profile-header__info__stats-credit-item__body__icon">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5.49558 18C5.08186 18 4.72917 17.8527 4.4375 17.5581C4.14583 17.2635 4 16.9093 4 16.4956C4 16.0819 4.14731 15.7292 4.44192 15.4375C4.73654 15.1458 5.09071 15 5.50442 15C5.91814 15 6.27083 15.1473 6.5625 15.4419C6.85417 15.7365 7 16.0907 7 16.5044C7 16.9181 6.85269 17.2708 6.55808 17.5625C6.26346 17.8542 5.90929 18 5.49558 18ZM14.4956 18C14.0819 18 13.7292 17.8527 13.4375 17.5581C13.1458 17.2635 13 16.9093 13 16.4956C13 16.0819 13.1473 15.7292 13.4419 15.4375C13.7365 15.1458 14.0907 15 14.5044 15C14.9181 15 15.2708 15.1473 15.5625 15.4419C15.8542 15.7365 16 16.0907 16 16.5044C16 16.9181 15.8527 17.2708 15.5581 17.5625C15.2635 17.8542 14.9093 18 14.4956 18ZM4.625 4H16.5C16.6944 4 16.8368 4.07639 16.9271 4.22917C17.0174 4.38194 17.0278 4.54167 16.9583 4.70833L14.6381 10.0803C14.5182 10.3601 14.3368 10.5833 14.0938 10.75C13.8507 10.9167 13.5764 11 13.2708 11H6.60417L5.72917 12.5H15.25C15.4625 12.5 15.6406 12.5715 15.7844 12.7144C15.9281 12.8573 16 13.0344 16 13.2456C16 13.4569 15.9281 13.6354 15.7844 13.7812C15.6406 13.9271 15.4625 14 15.25 14H5.75C5.15278 14 4.71181 13.7489 4.42708 13.2468C4.14236 12.7447 4.14583 12.2458 4.4375 11.75L5.52083 9.875L2.79167 3.5H1.75C1.5375 3.5 1.35938 3.42855 1.21562 3.28565C1.07187 3.14273 1 2.96565 1 2.7544C1 2.54313 1.07187 2.36458 1.21562 2.21875C1.35938 2.07292 1.5375 2 1.75 2H3.27083C3.42361 2 3.55903 2.04167 3.67708 2.125C3.79514 2.20833 3.88889 2.31944 3.95833 2.45833L4.625 4Z" fill="#252A31" />
                    </svg>
                </div>

                @if (CreditOptionsViewState.SalesCreditType == CreditType.Unlimited)
                {
                    <div class="giz-profile-header__info__stats-credit-item__body__infinite">
                        <Icon SVGIcon="Icons.Infinite" Color="#FFC700" />
                    </div>
                }
                else
                {
                    <div>@(CreditOptionsViewState.CreditLimit.ToString("C", CultureInfo.CurrentCulture))</div>
                }
            }
        </div>
    </div>
}