@namespace Gizmo.Client.UI.Components
@inherits CustomDOMComponentBase
@using Gizmo.Client.UI.View.States

<div class="giz-user-credit-tooltip-wrapper @(_isOpen ? "open" : "")"
     id="@Id"
     @ref="@Ref">
    <div class="giz-dropdown-menu__content giz-user-credit-tooltip" @onclick="DoNothing" @onclick:stopPropagation="true">
        <div class="giz-user-credit-tooltip-close-btn">
            <IconButton SVGIcon="Icons.Close_Client" Variant="ButtonVariants.Text" Size="ButtonSizes.Small" Class="close-btn" @onclick="Close" />
        </div>
        @if (CreditOptionsViewState.TimeCreditType != CreditType.NoCredit && CreditOptionsViewState.IsUserTimeCreditEnabled)
        {
            <div class="giz-user-credit-tooltip-item">
                <div class="giz-user-credit-tooltip-item__icon">
                    <Icon SVGIcon="Icons.TimeSession2_Client" />
                </div>
                <div class="giz-user-credit-tooltip-item__description">
                    @LocalizationService.GetString("GIZ_USER_PROFILE_CREDIT_TOOLTIP_TIME_CREDIT_DESCRIPTION")
                </div>
            </div>
        }
        @if (CreditOptionsViewState.SalesCreditType != CreditType.NoCredit)
        {
            <div class="giz-user-credit-tooltip-item">
                <div class="giz-user-credit-tooltip-item__icon">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5.49558 18C5.08186 18 4.72917 17.8527 4.4375 17.5581C4.14583 17.2635 4 16.9093 4 16.4956C4 16.0819 4.14731 15.7292 4.44192 15.4375C4.73654 15.1458 5.09071 15 5.50442 15C5.91814 15 6.27083 15.1473 6.5625 15.4419C6.85417 15.7365 7 16.0907 7 16.5044C7 16.9181 6.85269 17.2708 6.55808 17.5625C6.26346 17.8542 5.90929 18 5.49558 18ZM14.4956 18C14.0819 18 13.7292 17.8527 13.4375 17.5581C13.1458 17.2635 13 16.9093 13 16.4956C13 16.0819 13.1473 15.7292 13.4419 15.4375C13.7365 15.1458 14.0907 15 14.5044 15C14.9181 15 15.2708 15.1473 15.5625 15.4419C15.8542 15.7365 16 16.0907 16 16.5044C16 16.9181 15.8527 17.2708 15.5581 17.5625C15.2635 17.8542 14.9093 18 14.4956 18ZM4.625 4H16.5C16.6944 4 16.8368 4.07639 16.9271 4.22917C17.0174 4.38194 17.0278 4.54167 16.9583 4.70833L14.6381 10.0803C14.5182 10.3601 14.3368 10.5833 14.0938 10.75C13.8507 10.9167 13.5764 11 13.2708 11H6.60417L5.72917 12.5H15.25C15.4625 12.5 15.6406 12.5715 15.7844 12.7144C15.9281 12.8573 16 13.0344 16 13.2456C16 13.4569 15.9281 13.6354 15.7844 13.7812C15.6406 13.9271 15.4625 14 15.25 14H5.75C5.15278 14 4.71181 13.7489 4.42708 13.2468C4.14236 12.7447 4.14583 12.2458 4.4375 11.75L5.52083 9.875L2.79167 3.5H1.75C1.5375 3.5 1.35938 3.42855 1.21562 3.28565C1.07187 3.14273 1 2.96565 1 2.7544C1 2.54313 1.07187 2.36458 1.21562 2.21875C1.35938 2.07292 1.5375 2 1.75 2H3.27083C3.42361 2 3.55903 2.04167 3.67708 2.125C3.79514 2.20833 3.88889 2.31944 3.95833 2.45833L4.625 4Z" fill="#22272B" />
                    </svg>
                </div>
                <div class="giz-user-credit-tooltip-item__description">
                    @LocalizationService.GetString("GIZ_USER_PROFILE_CREDIT_TOOLTIP_SALES_CREDIT_DESCRIPTION")
                </div>
            </div>
        }
        @if (CreditOptionsViewState.SalesCreditType == CreditType.Unlimited || (CreditOptionsViewState.TimeCreditType == CreditType.Unlimited && CreditOptionsViewState.IsUserTimeCreditEnabled))
        {
            <div class="giz-user-credit-tooltip-unlimited">
                <div class="giz-user-credit-tooltip-unlimited__icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5.41498 17.3996C3.90499 17.3996 2.625 16.8765 1.575 15.8304C0.525 14.7842 0 13.5092 0 12.0054C0 10.5015 0.525033 9.22461 1.5751 8.17461C2.62517 7.12461 3.90493 6.59961 5.4144 6.59961C6.02147 6.59961 6.60417 6.70378 7.1625 6.91211C7.72083 7.12044 8.225 7.42461 8.675 7.82461L10.65 9.59961L9.3 10.7996L7.5 9.17461C7.21667 8.92461 6.90091 8.73294 6.55273 8.59961C6.20454 8.46628 5.83895 8.39961 5.45595 8.39961C4.4462 8.39961 3.58444 8.75034 2.87068 9.45181C2.15689 10.1533 1.8 11.0033 1.8 12.0018C1.8 13.0003 2.15689 13.8538 2.87068 14.5621C3.58444 15.2704 4.4462 15.6246 5.45595 15.6246C5.83895 15.6246 6.20454 15.5579 6.55273 15.4246C6.90091 15.2913 7.21667 15.0996 7.5 14.8496L15.325 7.82461C15.775 7.44128 16.279 7.14128 16.8369 6.92461C17.3949 6.70794 17.9774 6.59961 18.5846 6.59961C20.0944 6.59961 21.3744 7.12418 22.4246 8.17331C23.4749 9.22246 24 10.4979 24 11.9996C24 13.5163 23.4715 14.7954 22.4145 15.8371C21.3576 16.8788 20.0694 17.3996 18.55 17.3996C17.9451 17.3996 17.3647 17.2954 16.8088 17.0871C16.2529 16.8788 15.75 16.5746 15.3 16.1746L13.3 14.3746L14.7 13.1996L16.5 14.8246C16.7833 15.0746 17.0991 15.2663 17.4473 15.3996C17.7955 15.5329 18.1611 15.5996 18.5441 15.5996C19.5538 15.5996 20.4156 15.2489 21.1293 14.5474C21.8431 13.8459 22.2 12.9959 22.2 11.9974C22.2 10.9989 21.8431 10.1454 21.1293 9.43711C20.4156 8.72878 19.5538 8.37461 18.5441 8.37461C18.1611 8.37461 17.7955 8.44128 17.4473 8.57461C17.0991 8.70794 16.7833 8.89961 16.5 9.14961L8.681 16.1726C8.227 16.574 7.72098 16.8788 7.16295 17.0871C6.60492 17.2954 6.02226 17.3996 5.41498 17.3996Z" fill="#FFC700" />
                    </svg>
                </div>
                <div class="giz-user-credit-tooltip-unlimited__description">@LocalizationService.GetString("GIZ_USER_PROFILE_CREDIT_TOOLTIP_UNLIMITED_CREDIT_DESCRIPTION")</div>
            </div>
        }
    </div>
</div>
