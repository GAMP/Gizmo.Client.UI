@namespace Gizmo.Client.UI.Components
@inherits CustomDOMComponentBase
@using Gizmo.Web.Components

<div class="product-card">
    <div class="giz-hoverable-card">
        <div class="hoverable-content">
            <div class="product-card__content">
                <div class="product-card__content__image">
                    <img src="_content/Gizmo.Client.UI/img/@Product?.Image" alt='loading' />
                </div>
                <div class="product-card__content__details">
                    <div class="product-card__price">
                        @Product?.Price.ToString("C") or @Product?.PointsPrice
                        <Icon SVGIcon="Icons.Trophy_Client" Size="IconSizes.ExtraSmall" />
                    </div>
                    <div class="product-card__title">
                        @Product?.Name
                    </div>
                </div>
                <div class="product-card__content__footer">
                    <Button Size="ButtonSizes.Medium" IsFullWidth="true" @onclick="@(() => AddProduct())">Add to cart</Button>
                </div>
            </div>
        </div>
        @if (IsHoverable)
        {
            <div class="hovered-content-wrapper">
                <div class="hovered-content" @onclick="@(() => OpenDetails())">
                    <div class="d-flex">
                        <IconButton SVGIcon="Icons.Heart_Client" Variant="ButtonVariants.Text" Size="ButtonSizes.Small" Class="ml-auto" />
                    </div>
                    <div>
                        <Button Size="ButtonSizes.Large" IsFullWidth="true" @onclick="@(() => AddProduct())">Add to cart</Button>
                    </div>
                    <div>
                        <div class="d-flex">
                            <div class="product-card__text">
                                Buy One Get
                            </div>
                            <div class="product-card__points ml-auto">
                                @Product?.Points
                                <Icon SVGIcon="Icons.Trophy_Client" Size="IconSizes.ExtraSmall" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</div>