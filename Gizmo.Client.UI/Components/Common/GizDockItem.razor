@namespace Gizmo.Client.UI.Components
@inherits CustomDOMComponentBase
@using Gizmo.Client.UI.View;

<div class="@Class @ClassName"
	 @onclick="OnClickHandler"
	 @onmouseover="OnMouseOverHandler"
	 @onmouseout="OnMouseOutHandler">
	<div class="giz-dock-item-content">
		@if (Executable.ImageId.HasValue)
        {
			<GizImage ImageType="Gizmo.UI.ImageType.Executable" ImageId="@Executable.ImageId.Value" />
        }
        else
        {
            <img src="_content/Gizmo.Client.UI/img/Chrome-icon_1.png" alt="loading" />
        }
	</div>

	<div class="giz-dock-item-state">
		@switch (Executable.State)
		{
			case ExecutableState.Loading:
				<ProgressBar IsIndeterminate="true" />
				break;

			case ExecutableState.Deployment:
				<ProgressBar Value="@Executable.StatePercentage" />
				break;

			case ExecutableState.Running:
				<div class="running"></div>
				break;
		}
	</div>

	<div class="giz-dock-item-tooltip-wrapper @(_isOpen ? "giz-dock-item-tooltip-wrapper--visible" : "")"
		 @onmouseover="OnMouseOverTooltipHandler"
		 @onmouseout="OnMouseOutTooltipHandler">
		<div class="giz-dock-item-tooltip">
			<div class="giz-dock-item-tooltip__header">
				Teamspeak 3 Client
			</div>
			<div class="giz-dock-item-tooltip__body">
				Teamspeak
			</div>
			<div class="giz-dock-item-tooltip__actions">
				<Button Variant="ButtonVariants.Outline" Text="Details" />
			</div>
		</div>
	</div>
</div>