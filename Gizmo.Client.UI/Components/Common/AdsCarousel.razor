@namespace Gizmo.Client.UI.Components
@inherits CustomDOMComponentBase
@using Gizmo.Web.Components

<div class="giz-ads-carousel">
    <div class="giz-ads-carousel__body">
		<CascadingValue Value="@this" IsFixed="true">
            @if (Advertisements != null && Advertisements.Count > 0)
            {
                @foreach (var ad in Advertisements)
                {
                    <AdsCarouselItem Advertisement="@ad" />
                }

                @if (Advertisements.Count > 2)
                {
                    @foreach (var ad in Advertisements)
                    {
                        <AdsCarouselItem Advertisement="@ad" Duplicate="true" />
                    } 
                }
            }
		</CascadingValue>
    </div>
    <div class="giz-ads-carousel__navigation">
        <div class="giz-ads-carousel__navigation__indicators">
            <AdsCarouselIndicator Maximum="5" Size="@(Advertisements?.Count ?? 0)" SelectedIndex="@SelectedIndex" SelectedIndexChanged="SelectedIndexChangedHandler" />
        </div>
    </div>
</div>