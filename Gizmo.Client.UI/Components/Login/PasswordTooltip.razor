@namespace Gizmo.Client.UI.Components
@inherits CustomDOMComponentBase

<div class="giz-password-tooltip">
    <CircularProgressBar Size="CircularProgressBarSizes.Small"
                         Color="@GetColor()"
                         Value="@(PasswordTooltipViewState.TotalRules > 0 ? (PasswordTooltipViewState.PassedRules * (100 / PasswordTooltipViewState.TotalRules)) : 0)"
                         Class="giz-password-tooltip__icon" />
    <div class="giz-password-tooltip__body">
        <div class="giz-password-tooltip__body__title">
            @PasswordTooltipViewState.ErrorMessage
        </div>
        <div class="giz-password-tooltip__body__messages">
            @if (PasswordTooltipViewState.MinimumLengthRule > 0 || PasswordTooltipViewState.MaximumLengthRule > 0)
            {
                <div class="giz-password-tooltip-message @(PasswordTooltipViewState.LengthRulePassed ? "passed" : "")">
                    @LocalizationService.GetString("GIZ_PASSWORD_RULE_LENGTH", PasswordTooltipViewState.MinimumLengthRule, PasswordTooltipViewState.MaximumLengthRule)
                </div>
            }
            @if (PasswordTooltipViewState.HasLowerCaseCharactersRule)
            {
                <div class="giz-password-tooltip-message @(PasswordTooltipViewState.LowerCaseCharactersRulePassed ? "passed" : "")">
                    @LocalizationService.GetString("GIZ_PASSWORD_RULE_LOWER_CASE")
                </div>
            }
            @if (PasswordTooltipViewState.HasUpperCaseCharactersRule)
            {
                <div class="giz-password-tooltip-message @(PasswordTooltipViewState.UpperCaseCharactersRulePassed ? "passed" : "")">
                    @LocalizationService.GetString("GIZ_PASSWORD_RULE_UPPER_CASE")
                </div>
            }
            @if (PasswordTooltipViewState.HasNumbersRule)
            {
                <div class="giz-password-tooltip-message @(PasswordTooltipViewState.NumbersRulePassed ? "passed" : "")">
                    @LocalizationService.GetString("GIZ_PASSWORD_RULE_NUMBER")
                </div>
            }
        </div>
    </div>
</div>