@namespace Gizmo.Client.UI.Pages
@inherits ComponentBase
@layout _Layout_Login
@using System.Threading;
@using Gizmo.Web.Components
@using Gizmo.Client.UI.Components
@using Microsoft.AspNetCore.Components.Forms

@if (_logginIn)
{
    <LoginCard>
        <CardBody>
            <div class="giz-login-status">
                <GizSpinner />
                <div class="giz-animate-spinner-title mt-10 mb-2">please wait</div>
                <div class="giz-animate-spinner-text">Loggin in now</div>
            </div>
        </CardBody>
    </LoginCard>
}
else
{
    <LoginCard>
        <CardHeader>
            <div class="giz-login-new-user">Not a member? <a href="/createaccount">Sign up now</a></div>
        </CardHeader>
        <CardBody>
             <EditForm EditContext="@UserLoginService.EditContext">
                <div class="giz-login-title">Sign in</div>
                <div class="giz-login-input">
                    <TextInput UpdateOnInput="true" @bind-Value="UserLoginViewState.LoginName" Size="InputSizes.Large" IsFullWidth="true" Placeholder="Username" />
                </div>
                <div class="giz-login-forgot-password">
                     <a href="/resetpassword">Forgot you password?</a>
                </div>
                <div class="giz-login-input">
                    <TextInput UpdateOnInput="true" @bind-Value="UserLoginViewState.Password" Size="InputSizes.Large" IsFullWidth="true" Type="password" Placeholder="Password" />
                </div>
                <!--login btn-->
                <div class="giz-login-input">
                    <Button LeftSVGIcon="Icons.Login_Client" Size="ButtonSizes.ExtraLarge" IsFullWidth="true" @onclick="@UserLoginService.SubmitAsync">
                        continue
                    </Button>
                </div>
                <!--/login btn-->
            </EditForm>
            <!--third party login-->
            <div class="giz-third-parties-login">
                <div class="giz-third-parties-login__text">Or</div>
                <!--social icons-->
                <div class="giz-third-parties-login__actions">
                    <IconButton SVGIcon="Icons.Facebook_Client" Variant="ButtonVariants.Outline" />
                    <IconButton SVGIcon="Icons.Google_Client" Variant="ButtonVariants.Outline" Class="mx-3" />
                    <IconButton SVGIcon="Icons.Twitter_Client" Variant="ButtonVariants.Outline" />
                </div>
                <!--/social icons-->
            </div>
            <!--/third party login-->
        </CardBody>
        <CardFooter>
            <KeyboardLanguage />
        </CardFooter>
    </LoginCard>
}