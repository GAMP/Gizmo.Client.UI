@inherits ComponentBase
@using Gizmo.Web.Components
@using Gizmo.Client.UI.Components
@using Gizmo.Client.UI.ViewModels

<!--wrapper 1-->
<div class="wrapper_1">
    <!--leaderboard site menu-->
    <section class="giz-leaderboard pa-6">
        <div class="giz-user">
            <!--avtar-->
            <div class="giz-user--avtar">
                <Avatar Image="https://i.postimg.cc/2y9ttXnK/Avatar-1.png" Size="AvatarSizes.Large" Variant="AvatarVariants.Circle" alt="loading" />
                <div class="giz-about-user">
                    <div class="giz-about-user--title">my stats</div>
                    <div class="giz-about-user--name">Infidle 06</div>
                </div>
            </div>
            <!--/avtar-->
            <!--user points-->
            <div class="giz-user-points">
                <div class="giz-user-points--content">
                    <!--svg-->
                    <svg width="23" height="23" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M11.5 0C5.14857 0 0 5.14857 0 11.5C0 17.8514 5.14857 23 11.5 23C17.8514 23 23 17.8514 23 11.5C23 5.14857 17.8514 0 11.5 0ZM15.3159 16.5823C15.135 16.7622 14.9454 16.9509 14.7914 17.1053C14.6528 17.2444 14.5549 17.416 14.5053 17.602C14.4353 17.8644 14.3787 18.1297 14.2841 18.3842L13.4777 20.5567C12.8397 20.6958 12.1793 20.7742 11.5 20.7742V19.5046C11.5784 18.9194 11.1457 17.8231 10.4506 17.128C10.1724 16.8498 10.0161 16.4724 10.0161 16.0787V14.5943C10.0161 14.0546 9.72538 13.5584 9.25286 13.2973C8.58651 12.9287 7.63869 12.4135 6.9895 12.0866C6.45716 11.8186 5.9647 11.4773 5.52185 11.078L5.48476 11.0446C5.16807 10.7588 4.8869 10.4359 4.6473 10.0829C4.21234 9.44438 3.50379 8.39407 3.04333 7.71149C3.99254 5.60161 5.70317 3.90722 7.82881 2.98675L8.94218 3.54367C9.43556 3.79036 10.0161 3.43192 10.0161 2.8801V2.35611C10.3866 2.29629 10.7636 2.25827 11.1471 2.24389L12.4594 3.55619C12.7492 3.84601 12.7492 4.31575 12.4594 4.60556L12.2419 4.82258L11.7625 5.30206C11.6178 5.44673 11.6178 5.68183 11.7625 5.82651L11.9799 6.04399C12.1246 6.18867 12.1246 6.42377 11.9799 6.56845L11.609 6.93941C11.5393 7.00893 11.4449 7.04796 11.3465 7.04792H10.9296C10.8332 7.04792 10.7404 7.08548 10.6709 7.15319L10.2109 7.60067C10.1545 7.65557 10.117 7.72698 10.1038 7.80457C10.0907 7.88217 10.1025 7.96194 10.1376 8.03238L10.8605 9.47869C10.9839 9.72538 10.8044 10.0157 10.529 10.0157H10.2675C10.178 10.0157 10.0917 9.98321 10.0245 9.92478L9.59415 9.55103C9.49677 9.46655 9.37908 9.40887 9.25266 9.38367C9.12623 9.35846 8.99541 9.3666 8.87309 9.40728L7.4277 9.88907C7.31735 9.92587 7.22138 9.99646 7.15338 10.0908C7.08539 10.1852 7.04882 10.2986 7.04885 10.4149C7.04885 10.625 7.16756 10.8165 7.35536 10.9106L7.86915 11.1675C8.3055 11.3859 8.78683 11.4995 9.27466 11.4995C9.76248 11.4995 10.3222 12.765 10.7585 12.9834H13.8538C14.2475 12.9834 14.6245 13.1397 14.9032 13.4179L15.538 14.0527C15.8032 14.318 15.9521 14.6778 15.9521 15.0529C15.952 15.3372 15.8957 15.6186 15.7865 15.8811C15.6774 16.1435 15.5174 16.3818 15.3159 16.5823ZM19.3367 12.3463C19.0682 12.279 18.834 12.1144 18.6805 11.884L17.8468 10.6333C17.7248 10.4506 17.6597 10.2358 17.6597 10.0161C17.6597 9.79643 17.7248 9.58165 17.8468 9.39893L18.7552 8.03655C18.8628 7.87565 19.0102 7.74488 19.1837 7.65863L19.7856 7.35768C20.4125 8.60599 20.7742 10.0101 20.7742 11.5C20.7742 11.902 20.7399 12.2957 20.6898 12.6843L19.3367 12.3463Z" fill="white" />
                    </svg>
                    <!--/svg-->
                    <div class="giz-user-points--text"><div class="giz-title">global</div><div class="giz-numbers">381,745</div></div>
                </div>
                <div class="giz-user-points--content">
                    <div class="giz-svg">
                        <!--svg-->
                        <svg width="24" height="23" viewBox="0 0 24 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.3646 0.77312L7.5304 6.51965L1.18926 7.44413C0.052104 7.60906 -0.403625 9.01097 0.421028 9.81392L5.0087 14.2844L3.92363 20.5995C3.72832 21.741 4.93058 22.596 5.93752 22.0622L11.6103 19.0804L17.283 22.0622C18.29 22.5917 19.4922 21.741 19.2969 20.5995L18.2118 14.2844L22.7995 9.81392C23.6242 9.01097 23.1684 7.60906 22.0313 7.44413L15.6901 6.51965L12.8559 0.77312C12.3481 -0.251186 10.8768 -0.264207 10.3646 0.77312Z" fill="white" />
                        </svg>
                        <!--/svg-->
                    </div>
                    <div class="giz-user-points--text"><div class="giz-title">regional</div><div class="giz-numbers">93,899</div></div>
                </div>
                <div class="giz-user-points--content">
                    <div class="giz-svg">
                        <!--svg-->
                        <svg xmlns="http://www.w3.org/2000/svg" width="19" height="20" viewBox="0 0 19 20" fill="none">
                            <path d="M17.5694 2.5H14.2593V0.9375C14.2593 0.417969 13.9187 0 13.4954 0H4.83796C4.41464 0 4.07407 0.417969 4.07407 0.9375V2.5H0.763889C0.340567 2.5 0 2.91797 0 3.4375V5.625C0 7.01953 0.716146 8.45312 1.9702 9.55859C2.9728 10.4453 4.19184 11.0078 5.47135 11.1875C6.47078 13.2227 7.63889 14.0625 7.63889 14.0625V16.875H6.11111C4.98756 16.875 4.07407 17.6836 4.07407 19.0625V19.5312C4.07407 19.7891 4.24595 20 4.45602 20H13.8773C14.0874 20 14.2593 19.7891 14.2593 19.5312V19.0625C14.2593 17.6836 13.3458 16.875 12.2222 16.875H10.6944V14.0625C10.6944 14.0625 11.8626 13.2227 12.862 11.1875C14.1447 11.0078 15.3637 10.4453 16.3631 9.55859C17.614 8.45312 18.3333 7.01953 18.3333 5.625V3.4375C18.3333 2.91797 17.9928 2.5 17.5694 2.5ZM3.16059 7.53125C2.38397 6.84375 2.03704 6.07812 2.03704 5.625V5H4.08044C4.11227 6.27344 4.26505 7.39062 4.48785 8.36719C4.00723 8.16406 3.55845 7.88281 3.16059 7.53125ZM16.2963 5.625C16.2963 6.25391 15.7329 7.03516 15.1727 7.53125C14.7749 7.88281 14.3229 8.16406 13.8423 8.36719C14.0651 7.39062 14.2179 6.27344 14.2497 5H16.2963V5.625Z" fill="white" />
                        </svg>
                        <!--/svg-->
                    </div>
                    <div class="giz-user-points--text"><div class="giz-title">center</div><div class="giz-numbers">12</div></div>
                </div>
            </div>
            <!--/user points-->
        </div>
        <!--Apps and games Categories-->

        <List CanClick="true" CanSelect="true" Class="giz-menu-list giz-apps-menu-list">
            <ListHeader>
                Browse leaderboards
            </ListHeader>
            <ChildContent>
                @foreach (var application in Applications)
                {
                    <ListItem BackgroundImage="@application.BackgroundImage" Command="@SelectApplicationCommand" CommandParameter="@application.Id">
                        <div class="d-flex">
                            <div class="mr-auto">
                                @application.Name
                            </div>
                        </div>
                    </ListItem>
                }
            </ChildContent>
        </List>
        <!--/Apps and games Categories-->
    </section>
    <!--leaderboard site menu-->
</div>
<!--/wrapper 1-->
<!--wrapper 2-->
<div class="wrapper_2 border-start">
    <!--apps and games-->
    <section id="giz-leaderboard-ranking">
        <!--heading-->
        <div class="giz-ranking-heading">
            Fortnite Leaderboards
        </div>
        <!--/heading-->
        <!--ranking mode-->
        <div class="giz-ranking-info">
            <ChipGroup>
                <Chip IsSelected="true">all time</Chip>
                <Chip>solo</Chip>
                <Chip>squads</Chip>
                <Chip>duo</Chip>
            </ChipGroup>
            <!--/ranking mode-->
            <!--ranking wrapper-->
            <div class="giz-rankig-wrapper">
                <Select IsFullWidth="true" IsTransparent="true" @bind-Value="SelectedFilterOption">
                    @foreach (var item in FilterOptions)
                    {
                        <SelectItem Value="@item" Text="@item" />
                    }
                </Select>
                <ButtonGroup IsMandatory="true">
                    <Button IsSelected="@(_selectedRangeIndex == 0)" @onclick="@(() => SelectRange(0))">today</Button>
                    <Button IsSelected="@(_selectedRangeIndex == 1)" @onclick="@(() => SelectRange(1))">this week</Button>
                    <Button IsSelected="@(_selectedRangeIndex == 2)" @onclick="@(() => SelectRange(2))">this month</Button>
                </ButtonGroup>
                <!--button-->
                <div class="giz-filter-btn">
                    <Button Color="ButtonColors.Info">clear filter</Button>
                </div>
                <!--/button-->
            </div>
            <!--/ranking wrapper-->
        </div>
        <!--ranking info-->

        <DataGrid ItemSource="@GameStatistics"
                  Context="games"
                  Class="giz-table-history">
            <ChildContent>
                <DataGridColumn Field="@(nameof(GameStatisticsViewModel.Rank))" TItemType="GameStatisticsViewModel" Context="game">
                    <HeaderTemplate>
                        rank
                    </HeaderTemplate>
                    <CellTemplate>
                        @game.Rank
                        @if (game.Arrow > 0)
                        {
                            <svg width="8" height="4" viewBox="0 0 8 4" class="giz-icon-arrow" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M7.46093 4H0.53906C0.0597662 4 -0.180257 3.48908 0.158649 3.19028L3.61958 0.138917C3.82967 -0.0463058 4.17032 -0.0463058 4.38041 0.138917L7.84134 3.19028C8.18027 3.48908 7.94022 4 7.46093 4Z" fill="#26D156" />
                            </svg>
                        }
                        @if (game.Arrow < 0)
                        {
                            <svg width="8" height="4" viewBox="0 0 8 4" class="giz-icon-arrow" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M0.539072 6.52255e-07L7.46094 4.71261e-08C7.94023 5.22493e-09 8.18026 0.510917 7.84135 0.809716L4.38042 3.86108C4.17033 4.04631 3.82968 4.04631 3.61959 3.86108L0.158661 0.809717C-0.180272 0.510917 0.0597779 6.94156e-07 0.539072 6.52255e-07Z" fill="#D2212B" />
                            </svg>
                        }
                    </CellTemplate>
                </DataGridColumn>
                <DataGridColumn Field="@(nameof(GameStatisticsViewModel.Player))" TItemType="GameStatisticsViewModel" Context="game">
                    <HeaderTemplate>
                        player
                    </HeaderTemplate>
                    <CellTemplate>
                        <!--flag img-->
                        <img src="https://i.postimg.cc/ @game.Flag" class="giz-flag-icon" alt="loading" />
                        <!--/flag img-->
                        @game.Player
                    </CellTemplate>
                </DataGridColumn>
                <DataGridColumn Field="@(nameof(GameStatisticsViewModel.Tier))" TItemType="GameStatisticsViewModel" Context="game">
                    <HeaderTemplate>
                        tier
                    </HeaderTemplate>
                    <CellTemplate>
                        @game.Tier
                    </CellTemplate>
                </DataGridColumn>
                <DataGridColumn Field="@(nameof(GameStatisticsViewModel.LP))" TItemType="GameStatisticsViewModel" Context="game">
                    <HeaderTemplate>
                        lp
                    </HeaderTemplate>
                    <CellTemplate>
                        @game.LP
                    </CellTemplate>
                </DataGridColumn>
                <DataGridColumn Field="@(nameof(GameStatisticsViewModel.Games))" TItemType="GameStatisticsViewModel" Context="game">
                    <HeaderTemplate>
                        games
                    </HeaderTemplate>
                    <CellTemplate>
                        @game.Games
                    </CellTemplate>
                </DataGridColumn>
                <DataGridColumn Field="@(nameof(GameStatisticsViewModel.KDA))" TItemType="GameStatisticsViewModel" Context="game">
                    <HeaderTemplate>
                        kd/a
                    </HeaderTemplate>
                    <CellTemplate>
                        @game.KDA
                    </CellTemplate>
                </DataGridColumn>
                <DataGridColumn Field="@(nameof(GameStatisticsViewModel.Victories))" TItemType="GameStatisticsViewModel" Context="game">
                    <HeaderTemplate>
                        win ratio
                    </HeaderTemplate>
                    <CellTemplate>
                        <PercentageStackBar ShowValues="true" Values="@(new List<decimal>() { @game.Victories, @game.Defeats })" Colors="@(new List<string>() { "#289bdd", "#bc3740" })" />
                        61%
                    </CellTemplate>
                </DataGridColumn>
            </ChildContent>
        </DataGrid>

        <!--/table wrapper-->
        <div class="giz-loading-btn">
            <Button Size="ButtonSizes.Large" Color="ButtonColors.Info" Class="load-games-button">load more</Button>
        </div>
    </section>
    <!--/apps and games-->
</div>
<!--/wrapper 2-->
